;/*FB_PKG_DELIM*/

__d("getMWInlineQPBannerStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={inlineQPBanner:{backgroundColor:"x1jx94hy",boxShadow:"xyqbzfk",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},inlineQPBannerWrapper:{backgroundColor:"x1jx94hy",borderTopColor:"x1pdss0j",borderEndColor:"xtcpoma",borderBottomColor:"x81c4ja",borderStartColor:"x8g6rb3",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",$$css:!0}};g.inlineQPBannerStyles=a}),98);
__d("getMWLocalStorageThreadsWithBannerDismissed",["FBLogger","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){try{var b;b=JSON.parse((b=(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a))!=null?b:"{}")}catch(d){c("FBLogger")("armadillo").warn("Local storage value retrieval failed with error of "+String(d)+" when "+("retrieving value of "+a+" from web storage.")),b={}}return b}g.parseLocalStorageThreadsWithBannerDismissed=a}),98);
__d("setHasDismissedSecretConversationsDeprecationBanner.react",["WebStorage","getMWLocalStorageThreadsWithBannerDismissed"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if((h||(h=c("WebStorage"))).getLocalStorage()==null||(h||(h=c("WebStorage"))).isLocalStorageQuotaExceeded())return;var e=d("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(b);Object.prototype.hasOwnProperty.call(e,a)||(e[a]=!0,(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),b,JSON.stringify(e)))}g.setHasDismissedSecretConversationsDeprecationBanner=a}),98);
__d("useMWRedirectToEncryptedThreadOfDualThread",["LSIntEnum","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWNavigation","useMWPCreateOneToOneThreadThenNavigate","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(13),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.mi_act_mapping_table||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table.index("jid")).getKeyRange(a)},b[0]=e.tables.mi_act_mapping_table,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];g=d("ReQLSuspense").useFirst(g,j,f.id+":31");var k=c("useMWNavigation")(),l=c("useMWPCreateOneToOneThreadThenNavigate")(k,"preCutoverThread","dualThreadCutoverComposer"),m=g!=null,n=g==null?void 0:g.clientThreadPk,o=g==null?void 0:g.serverThreadKey;b[6]!==n||b[7]!==l||b[8]!==m||b[9]!==k||b[10]!==o||b[11]!==a?(j=function(){m&&o!=null?k.openTabOrInbox({clientThreadKey:n,threadKey:o,threadType:(i||(i=d("LSIntEnum"))).ofNumber(15)},"preCutoverThread",void 0,void 0,{subEntrypoint:"dualThreadCutoverComposer"}):l==null?void 0:l(a)},b[6]=n,b[7]=l,b[8]=m,b[9]=k,b[10]=o,b[11]=a,b[12]=j):j=b[12];return j}g["default"]=a}),98);
__d("MWInboxPrecutoverOpenThreadBanner.react",["fbt","ix","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","MWPActor.react","MWXQPCard.react","ReQL","ReQLSuspense","getMWInlineQPBannerStyles","getMWLocalStorageThreadsWithBannerDismissed","react","react-compiler-runtime","requireDeferred","setHasDismissedSecretConversationsDeprecationBanner.react","stylex","useMWEntrypoint","useMWRedirectToEncryptedThreadOfDualThread","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=m||(m=d("react")),o=m.useState,p=c("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWInboxPrecutoverOpenThreadBanner.react");function a(a){var b=d("react-compiler-runtime").c(38);a=a.thread;var e=a.threadKey,g=a.threadType,m=(j||(j=c("useReStore")))(),r=d("MWPActor.react").useActor(),s;b[0]!==r||b[1]!==e?(s=(l||(l=d("I64"))).equal(r,e),b[0]=r,b[1]=e,b[2]=s):s=b[2];var t=s,u;b[3]!==r||b[4]!==m||b[5]!==t||b[6]!==e||b[7]!==g?(s=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(g)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(m.tables.participants).getKeyRange(e),d("ReQL").fromTableAscending(m.tables.contacts)).filter(function(a){a=a[1];return t||!(l||(l=d("I64"))).equal(a.id,r)}).map(q):d("ReQL").empty()},u=[m,e,g,r,t],b[3]=r,b[4]=m,b[5]=t,b[6]=e,b[7]=g,b[8]=s,b[9]=u):(s=b[8],u=b[9]);s=d("ReQLSuspense").useFirst(s,u,f.id+":63");var v=d("MAWThreadCutover").useIsCutoverOpenThread(e);u=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(e);var w;b[10]!==a?(w=d("LSThreadBitOffset").has(260,a),b[10]=a,b[11]=w):w=b[11];a=w;var x=c("useMWRedirectToEncryptedThreadOfDualThread")(e);b[12]!==e?(w=function(){var a=d("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED);return!Object.prototype.hasOwnProperty.call(a,(l||(l=d("I64"))).to_string(e))},b[12]=e,b[13]=w):w=b[13];w=o(w);var y=w[0],z=w[1];if(b[14]!==t||b[15]!==(s==null?void 0:s.firstName)||b[16]!==(s==null?void 0:s.name)){w=t?h._(/*BTDS*/"Messenger \u0111ang n\u00e2ng c\u1ea5p t\u00ednh n\u0103ng b\u1ea3o m\u1eadt n\u00ean ch\u1ec9 \u0111o\u1ea1n chat \u0111\u01b0\u1ee3c m\u00e3 h\u00f3a \u0111\u1ea7u cu\u1ed1i c\u1ee7a b\u1ea1n ti\u1ebfp t\u1ee5c ho\u1ea1t \u0111\u1ed9ng."):h._(/*BTDS*/"Messenger \u0111ang n\u00e2ng c\u1ea5p t\u00ednh n\u0103ng b\u1ea3o m\u1eadt n\u00ean ch\u1ec9 \u0111o\u1ea1n chat \u0111\u01b0\u1ee3c m\u00e3 h\u00f3a \u0111\u1ea7u cu\u1ed1i c\u1ee7a b\u1ea1n v\u1edbi {name} ti\u1ebfp t\u1ee5c ho\u1ea1t \u0111\u1ed9ng.",[h._param("name",(w=s==null?void 0:s.firstName)!=null?w:s==null?void 0:s.name)]);b[14]=t;b[15]=s==null?void 0:s.firstName;b[16]=s==null?void 0:s.name;b[17]=w}else w=b[17];s=w;var A=c("useMWEntrypoint")();b[18]!==g?(w=d("LSMessagingThreadTypeUtil").isArmadilloSecure(g),b[18]=g,b[19]=w):w=b[19];var B=w;b[20]!==A||b[21]!==v||b[22]!==B||b[23]!==e||b[24]!==g?(w={onVisible:function(){p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_impression_event",is_cutover:v,thread_id:(l||(l=d("I64"))).to_string(e),thread_type:l.to_string(g),transport_type:B?"ACT":"MI"}})})}},b[20]=A,b[21]=v,b[22]=B,b[23]=e,b[24]=g,b[25]=w):w=b[25];w=c("useVisibilityObserver")(w);var C;b[26]!==s||b[27]!==A||b[28]!==v||b[29]!==u||b[30]!==a||b[31]!==B||b[32]!==x||b[33]!==w||b[34]!==y||b[35]!==e||b[36]!==g?(C=y&&a&&!v&&!u&&n.jsx("div",babelHelpers["extends"]({"data-testid":void 0},(k||(k=c("stylex"))).props(d("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBannerWrapper),{children:n.jsx(c("MWXQPCard.react"),{addOnPrimary:{label:h._(/*BTDS*/"Chuy\u1ec3n sang \u0111o\u1ea1n chat kh\u00e1c"),onPress:function(){p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_cta_click_event",is_cutover:v,thread_id:(l||(l=d("I64"))).to_string(e),thread_type:l.to_string(g),transport_type:B?"ACT":"MI"}})}),x()},type:"secondary"},body:s,headline:h._(/*BTDS*/"H\u1ec7 th\u1ed1ng s\u1eafp l\u01b0u tr\u1eef \u0111o\u1ea1n chat n\u00e0y"),icon:{props:{src:i("876158")},type:"image"},onClose:function(){d("setHasDismissedSecretConversationsDeprecationBanner.react").setHasDismissedSecretConversationsDeprecationBanner((l||(l=d("I64"))).to_string(e),c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED),p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_dismissed_event",is_cutover:v,thread_id:(l||(l=d("I64"))).to_string(e),thread_type:l.to_string(g),transport_type:B?"ACT":"MI"}})}),z(!1)},ref:w,xstyle:d("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBanner})})),b[26]=s,b[27]=A,b[28]=v,b[29]=u,b[30]=a,b[31]=B,b[32]=x,b[33]=w,b[34]=y,b[35]=e,b[36]=g,b[37]=C):C=b[37];return C}function q(a){a=a[1];return a}g["default"]=a}),226);